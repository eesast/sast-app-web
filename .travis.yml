language: node_js
node_js:
  - "11.10.1"
cache: npm
install:
  - npm ci
  - npm install -g codecov
script:
  - npm run build
  - npm test -- --coverage
  - codecov
deploy:
  provider: script
  script: bash scripts/deploy.sh
  on:
    tags: true
